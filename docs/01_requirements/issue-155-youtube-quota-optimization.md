# Issue #155: YouTube クォータ最適化（Aランク試合限定）

## 現状の課題
- YouTube Data API の日次クォータ（10,000 units）に対し、1試合あたりの消費が約1,300 units（13クエリ）と大きい。
- 1月10日のように試合数が多い日（23試合）は、全ての試合で動画検索を試みると即座にクォータが枯渇する。
- 低ランクの試合に対しても多くのクエリを発行しており、重要な試合（S/Aランク）の動画が取得できないリスクがある。

## 提案: ランクベースのフィルタリング
動画検索（YouTube処理）の対象を **S ランクおよび A ランクの試合** に限定します。

### 期待効果
- B ランク以下の試合（FA Cup の下位カードなど）での消費をゼロにする。
- 例：1月10日の場合
  - 全23試合中、S/Aランクが5試合だった場合、消費は 1,300 * 5 = 6,500 units となり、日次クォータ内に収まる。
  - 残りのクォータで、翌日分などのキャッシュウォーミングも可能になる。

## 実装方針

### 修正対象: `src/youtube_service.py`
`process_matches(self, matches)` 内で、試合の `rank` をチェックするロジックを追加する。

```python
# 修正イメージ
for match in matches:
    if match.core.is_target and match.core.rank in ["S", "A"]:
        match_key = f"{match.core.home_team} vs {match.core.away_team}"
        results[match_key] = self.get_videos_for_match(match)
```

### 考慮事項
- **レポートの整合性**: 動画セクションがない場合のレポートの見映えを確認する（現状、動画がない場合はセクション自体が表示されない設計）。
- **設定化**: 将来的には `config.py` で「どのランクまで動画を取得するか」を変更可能にすることも検討。

## 検証プラン
1. 1月10日のデータを用い、ランクフィルタ適用後に YouTube 処理の対象試合数が削減されることを確認。
2. 実際にクォータがある状態で、Aランクの試合のみ動画が取得されることを確認。
