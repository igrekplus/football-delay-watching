# YouTube動画取得要件

機能要件「YouTube動画取得 (YouTube)」の詳細要件を定義する。

---

## 1. 概要

試合レポートに含めるYouTube動画を取得する。**キックオフ前の動画のみを対象**とし、試合結果のネタバレを防ぐ。

---

## 2. 取得する動画カテゴリ

| カテゴリ | 説明 | クエリ数/試合 |
|---------|------|--------------|
| 記者会見 | 監督の試合前会見 | 2（各チーム） |
| 過去対戦ハイライト | 両チームの過去の対戦ハイライト | 1 |
| 戦術分析 | チームの戦術解説動画 | 2（各チーム） |
| 選手紹介 | 注目選手のプレー集 | 6（各チーム3選手） |
| 練習風景 | チームの練習動画 | 2（各チーム） |

---

## 3. 要件

### 3.1 ネタバレ防止

- **必須**: キックオフ前に公開された動画のみを対象とする
- **必須**: 試合結果を含むハイライト動画を除外する
- **必須**: ライブ配信・リアクション動画を除外する

### 3.2 検索期間

| カテゴリ | 検索期間 |
|---------|----------|
| 記者会見 | キックオフ前 48時間 |
| 過去対戦ハイライト | キックオフ前 2年（730日） ～ キックオフ24時間前 |
| 戦術分析 | キックオフ前 6ヶ月（180日） |
| 選手紹介 | キックオフ前 6ヶ月（180日） |
| 練習風景 | キックオフ前 1週間（168時間） |

### 3.3 信頼チャンネル

- 公式チャンネル（クラブ、リーグ、放送局）を優先表示
- 非信頼チャンネルは「要確認」として表示

---

## 4. 制約

### 4.1 APIクォータ

| 項目 | 値 |
|------|-----|
| 無料枠 | 10,000ユニット/日 |
| search.list | 100ユニット/リクエスト |
| 1試合あたり | 1,300ユニット（通常）、900ユニット（デバッグ） |

### 4.2 言語

| カテゴリ | 言語 |
|---------|------|
| 記者会見 | 英語 |
| 戦術分析 | 日本語固定 |
| 選手紹介 | 日本語固定 |
| 練習風景 | 英語 |

---

## 5. 関連ドキュメント

- [設計詳細](../02_architecture/external_apis.md#4-youtube-data-api)
- [信頼チャンネル設定](../../settings/channels.py)
